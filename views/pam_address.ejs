<!DOCTYPE html>
<html lang="en">
  
<head>
    
    <%- include('./partials/head'); -%>
</head>
<body>
    
    <!-- Loader starts-->
    <div class="loader-wrapper">
        <div class="loader-box">
            <div class="loader-19"></div>
        </div>
    </div>
    <!-- Loader ends-->
    <div class="container-fluid height-65px">
        <div class="row">
            <div class="col-xl-12 p-0">    
                <div class="login-card">
                    <div class="card">
                        <div class="card-header text-start p-0 pt-4 px-3">
                            <h5 class="f-20 f-w-700"><%=language.Address_Details%></h5>
                        </div>
                        <hr>
                        
                        <form action="/packers_and_movers/pam_add_address" method="post" id="address_form">
                            <div class="card-body pt-1">
                                <div class="row g-3">
                                    <div>
                                        <label class="form-label"><%=language.Pickup_Address%></label>
                                        <div class="b-light p-2 shadow-sm shadow-showcase b-r-7">
                                            <a class="d-flex justify-content-between text-dark px-2" type="button" data-bs-toggle="modal" data-bs-target="#pickup_address">
                                                <span id="address_name"><%=language.Select_Pickup_Address%></span>
                                                <i class="fa fa-angle-right f-18"></i>
                                            </a>
                                        </div>
                                    </div>
                                    <div class="d-none" id="show_pickup_address">
                                        <div class="b-light b-r-7 p-3 shadow-sm shadow-showcase">
                                            <span id="show_address"> </span>
                                            <div class="d-flex justify-content-between mt-2">
                                                <span><i class="icon-user"></i> <span id="show_name"> </span></span>
                                                <span><i class="icon-headphone-alt"></i> <span id="show_phone"> </span></span>
                                            </div>
                                            <hr>
                                            <div class="d-flex justify-content-between">
                                                <span><%=language.What_floor_are_you_on%></span>
                                                <div class="w-25">
                                                    <select class="form-select py-1" name="pickup_floor" required>
                                                      <% floor_no.forEach((data) => { %>
                                                        <option value="<%= data %>"><%= data %></option>
                                                        <% }) %>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="checkbox p-0 checkbox-success">
                                                <input class="form-check-input" id="invalidCheck" type="checkbox" name="pickup_checkbox">
                                                <label class="form-check-label" for="invalidCheck"><%=language.Loading%> / <%=language.Unloading_with_elevator%></label>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <label class="form-label"><%=language.Delivery_Address%></label>
                                        <div class="b-light p-2 shadow-sm shadow-showcase b-r-7">
                                            <a class="d-flex justify-content-between text-dark px-2" type="button" id="dummy_delivery_address">
                                                <span id="address_name"><%=language.Select_Delivery_Address%></span>
                                                <i class="fa fa-angle-right f-18"></i>
                                            </a>
                                            <a class="d-flex justify-content-between text-dark px-2 d-none" type="button" id="delivery_address" data-bs-toggle="modal" data-bs-target="#delivery_addressmodal">
                                                <span id="address_name"><%=language.Select_Delivery_Address%></span>
                                                <i class="fa fa-angle-right f-18"></i>
                                            </a>
                                        </div>
                                        <p class="text-danger d-none" id="delivery_address_error"><%=language.First_Select_Pickup_Address%></p>
                                    </div>
                                    <div class="d-none" id="show_delivery_address">
                                        <div class="b-light b-r-7 p-3 shadow-sm shadow-showcase">
                                            <span id="show_d_address"> </span>
                                            <div class="d-flex justify-content-between mt-2">
                                                <span><i class="icon-user"></i> <span id="show_d_name"> </span></span>
                                                <span><i class="icon-headphone-alt"></i> <span id="show_d_phone"> </span></span>
                                            </div>
                                            <hr>
                                            <div class="d-flex justify-content-between">
                                                <span><%=language.What_floor_are_you_on%></span>
                                                <div class="w-25">
                                                    <select class="form-select py-1" name="delivery_floor" required>
                                                      <% floor_no.forEach((data) => { %>
                                                        <option value="<%= data %>"><%= data %></option>
                                                        <% }) %>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="checkbox p-0 checkbox-success">
                                                <input class="form-check-input" id="invalidCheck1" type="checkbox" name="delivery_checkbox">
                                                <label class="form-check-label" for="invalidCheck1"><%=language.Loading%> / <%=language.Unloading_with_elevator%></label>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <input type="hidden" value="0" name="pickup_address" id="hidden_input">
                                <input type="hidden" value="0" name="delivery_address" id="hidden_delivery_address_input">
    
                                <button class="btn btn-primary btn-square b-r-5 w-100 mt-4" type="button" id="address_submit"><%=language.Next%></button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- pickup_address -->

    <div class="modal fade" id="pickup_address" tabindex="-1" role="dialog" aria-labelledby="pickup_address" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><%=language.Select_Pickup_Address%></h5>
                    <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row g-3">
                        <div class="col-12">
                            <a class="" type="button" data-bs-toggle="modal" data-bs-target="#add_address">
                                <h5><i class="fa fa-map-marker mx-2"></i> <%=language.Add_New_Address%></h5>
                            </a>
                        </div>
                        <hr class="m-0">
                        <h5><%=language.Address_Details%></h5>
                        <% customer_data.forEach((data) => { %>
                            <a class="col-12 text-dark d-flex justify-content-between align-items-center select_address" type="button" data-bs-dismiss="modal" data-id="<%= data.id %>" data-phone_no="<%= data.country_code %> <%= data.phone_no %>"
                                data-name="<%= data.first_name %> <%= data.last_name %>" data-address="<%= data.address %>, <%= data.city %>, <%= data.state %>, <%= data.country %>">
                                <div class="p-1 d-flex align-items-center">
                                    <div>
                                        <i class="icofont icofont-map-pins f-20"></i>
                                    </div>
                                    <div class="mx-3">
                                        <h5 class="mb-0"><%= data.first_name %> <%= data.last_name %></h5>
                                        <span><%= data.address %>, <%= data.city %>, <%= data.state %>, <%= data.country %></span>
                                    </div>
                                </div>
                            </a>
                        <% }) %>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- delivery_addressmodal -->

    <div class="modal fade" id="delivery_addressmodal" tabindex="-1" role="dialog" aria-labelledby="delivery_addressmodal" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><%=language.Select_Pickup_Address%></h5>
                    <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row g-3">
                        <div class="col-12">
                            <a class="" type="button" data-bs-toggle="modal" data-bs-target="#add_address">
                                <h5><i class="fa fa-map-marker mx-2"></i> <%=language.Add_New_Address%></h5>
                            </a>
                        </div>
                        <hr class="m-0">
                        <h5><%=language.Address_Details%></h5>
                        <div id="all_address">
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- add_address -->

    <div class="modal fade" id="add_address" role="dialog" aria-labelledby="add_address" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><%=language.Select_Pickup_Address%></h5>
                    <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form  class="needs-validation" novalidate="" action="/packers_and_movers/add_customer" method="post">
                        <div class="row g-3">
                            <h5><%=language.Customer_Details%></h5>

                            <div class="col-md-6 col-sm-12">
                                <label class="form-label"><%=language.First_Name%></label>
                                <input class="form-control" type="text" name="first_name" placeholder="<%=language.Enter%> <%=language.First_Name%>" required>
                            </div>
                            <div class="col-md-6 col-sm-12">
                                <label class="form-label"><%=language.Last_Name%></label>
                                <input class="form-control" type="text" name="last_name" placeholder="<%=language.Enter%> <%=language.Last_Name%>" required>
                            </div>
                            <div class="col-md-6 col-sm-12">
                                <label class="form-label"><%=language.Phone_Number%></label>
                                <div class="row">
                                    <div class="col-4">
                                        <select class="js-example-basic-single" name="country_code" required>
                                            <option value selected disabled><%=language.Country%></option>
                                            <% CountryCode.forEach((data, x) => { %>
                                                <option value="<%= data %>"> <%= nameCode[x] %> <%= data %> </option>
                                            <% }) %>
                                        </select>
                                    </div>
                                    <div class="col-8">
                                        <input class="form-control" type="number" name="phone_no" placeholder="<%=language.Enter%> <%=language.Phone_Number%>" required>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 col-sm-12">
                                <label class="form-label"><%=language.Email%></label>
                                <input class="form-control" type="email" name="email" placeholder="<%=language.Enter%> <%=language.Email%>" required>
                            </div>
                        </div>
                        <hr>
                        <div class="row g-3 address_details" id="address_details">
                            <h5><%=language.Address_Details%></h5>

                            <div class="col-12">
                                <label class="form-label"><%=language.Address%></label>
                                <input class="form-control search_input" type="text" name="google_address" id="search_input" placeholder="<%=language.Enter%> <%=language.Address%>" required>
                                <input type="hidden" name="latitude" id="latitude">
                                <input type="hidden" name="longitude" id="longitude">
                                <P class="d-none text-danger" id="search_input_error"><%=language.Sorry_we_do_not_allowed_pickup_in_the_area_you_have_selected%></P>
                            </div>
                            <div class="col-12">
                                <label class="form-label"><%=language.Flat_Housing_No_Apartment_Area%></label>
                                <input class="form-control" type="text" name="address" placeholder="<%=language.Enter%> <%=language.Flat_Housing_No_Apartment_Area%>" required>
                            </div>
                            <div class="col-md-6 col-sm-12">
                                <label class="form-label"><%=language.City%></label>
                                <input class="form-control" type="text" name="city" placeholder="<%=language.Enter%> <%=language.City%>" required>
                            </div>
                            <div class="col-md-6 col-sm-12">
                                <label class="form-label"><%=language.State%></label>
                                <input class="form-control" type="text" name="state" placeholder="<%=language.Enter%> <%=language.State%>" required>
                            </div>
                            <div class="col-md-6 col-sm-12">
                                <label class="form-label"><%=language.Country%></label>
                                <input class="form-control" type="text" name="country" placeholder="<%=language.Enter%> <%=language.Country%>" required>
                            </div>
                            <div class="col-md-6 col-sm-12">
                                <label class="form-label"><%=language.Pincode%></label>
                                <input class="form-control" type="text" name="pincode" placeholder="<%=language.Enter%> <%=language.Pincode%>" required>
                            </div>

                            <button class="btn btn-square b-r-7 btn-primary" id="add_customer_btn"><%=language.Save%></button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    

    <%- include('./partials/script'); -%>
</body>

</html>